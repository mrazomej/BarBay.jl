<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>contributing · BarBay</title><meta name="title" content="contributing · BarBay"/><meta property="og:title" content="contributing · BarBay"/><meta property="twitter:title" content="contributing · BarBay"/><meta name="description" content="Documentation for BarBay."/><meta property="og:description" content="Documentation for BarBay."/><meta property="twitter:description" content="Documentation for BarBay."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="BarBay logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">BarBay</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">BarBay</a></li><li class="is-active"><a class="tocitem" href>contributing</a></li><li><a class="tocitem" href="../examples/">examples</a></li><li><a class="tocitem" href="../math/">math</a></li><li><a class="tocitem" href="../mcmc/">mcmc</a></li><li><a class="tocitem" href="../model/">model</a></li><li><a class="tocitem" href="../stats/">stats</a></li><li><a class="tocitem" href="../utils/">utils</a></li><li><a class="tocitem" href="../vi/">vi</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>contributing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>contributing</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/mrazomej/BarBay.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/mrazomej/BarBay.jl/blob/main/docs/src/contributing.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="contributing"><a class="docs-heading-anchor" href="#contributing">contributing</a><a id="contributing-1"></a><a class="docs-heading-anchor-permalink" href="#contributing" title="Permalink"></a></h1><div class="admonition is-warning"><header class="admonition-header">Disclaimer</header><div class="admonition-body"><p>The authors of this package have no formal training in software engineering. But we are eager to learn about best practices and are very open to suggestions via GitHub issues or PRs!</p></div></div><p>We welcome contributions to the package via pull requests. One such example could be adding a new variation of the base model to the <a href="../model/#model">model</a> module. All models within <code>BarBay.jl</code> that can be fit with the <a href="../mcmc/#mcmc">mcmc</a> or the <a href="../vi/#vi">vi</a> modules are standardized to take as the first four arguments the following:</p><ul><li><code>R̲̲</code>: Array-like object that contains the raw barcode counts. These can be either a matrix, a tensor, or a list of arrays. The main feature is that each &quot;face&quot; of the array-like object represents a matrix where each column contains the time series data for a single barcode. Here are some examples of the types used in different models:<ul><li><code>R̲̲::Matrix{Int64}</code>: <code>T × B</code> matrix–split into a vector of vectors for computational efficiency–where <code>T</code> is the number of time points in the data set and <code>B</code> is the number of barcodes. Each column represents the barcode count trajectory for a single lineage.</li><li><code>R̲̲::Array{Int64, 3}</code>:: <code>T × B × R</code> where <code>T</code> is the number of time points in the data set, <code>B</code> is the number of barcodes, and <code>R</code> is the number of experimental replicates. For each slice in the <code>R</code> axis, each column represents the barcode count trajectory for a single lineage.</li><li><code>R̲̲::Vector{Matrix{Int64}}</code>:: Length <code>R</code> vector wth <code>T × B</code> matrices   where <code>T</code> is the number of time points in the data set, <code>B</code> is the number   of barcodes, and <code>R</code> is the number of experimental replicates. For each   matrix in the vector, each column represents the barcode count trajectory   for a single lineage.</li></ul></li><li><code>n̲ₜ</code>: Array-like object with the total number of barcode counts for each time point. As with <code>R̲̲</code>, the structure of <code>n̲ₜ</code> must be adapted for the needs of your data structure. Here are some examples of the types used in different models:<ul><li><code>n̲ₜ::Vector{Int64}</code>: Vector with the total number of barcode counts for each time point. <strong>NOTE</strong>: This vector <strong>must</strong> be equivalent to computing <code>vec(sum(R̲̲, dims=2))</code>.</li><li><code>n̲ₜ::Vector{Vector{Int64}}</code>: Vector of vectors with the total number of barcode counts for each time point on each replicate. <strong>NOTE</strong>: This vector <strong>must</strong> be equivalent to computing <code>vec.(sum.(R̲̲, dims=2))</code>.</li></ul></li><li><code>n_neutral::Int</code>: Number of neutral lineages in dataset. </li><li><code>n_bc::Int</code>: Number of mutant lineages in dataset.</li></ul><p>The rest of the arguments fed to the model function must be optional keyword arguments. This means that they should be listed after the semi-colon that separates the first four inputs from the rest and they should have a default value. As an example, take a look at the definition of the input arguments for one of the base models:</p><pre><code class="language-julia hljs">Turing.@model function fitness_normal(
    R̲̲::Matrix{Int64},
    n̲ₜ::Vector{Int64},
    n_neutral::Int,
    n_bc::Int;
    s_pop_prior::VecOrMat{Float64}=[0.0, 2.0],
    logσ_pop_prior::VecOrMat{Float64}=[0.0, 1.0],
    s_bc_prior::VecOrMat{Float64}=[0.0, 2.0],
    logσ_bc_prior::VecOrMat{Float64}=[0.0, 1.0],
    logλ_prior::VecOrMat{Float64}=[3.0, 3.0]
)</code></pre><p>Furthermore, the four inputs to the model are automatically generated within the <a href="../mcmc/#mcmc">mcmc</a> and the <a href="../vi/#vi">vi</a> modules via the <code>data_to_arrays</code> function from the <a href="../utils/#utils">utils</a> module. Take a look at the source code for this function to familiarize yourself with it. In case this is inconvenient, please open an issue in the <a href="https://github.com/mrazomej/BarBay.jl">GitHub repository</a> and we will be happy to make changes to adapt the package to your needs!</p><p>If your defined model follows these standards, you should be able to fit it with the tools provided within this package. Here are some resources to get familiar with the model structure within <a href="https://turinglang.org/stable/"><code>Turing.jl</code></a>:</p><ul><li><a href="https://turinglang.org/v0.29/docs/using-turing/get-started">Getting Started with <code>Turing.jl</code></a></li><li><a href="https://storopoli.io/Bayesian-Julia/">Bayesian Statistics using Julia and Turing</a></li></ul><p>Furthermore, we recommend looking at the source code within <a href="https://github.com/mrazomej/BarBay.jl">this package GitHub repository</a>. Every function and model is highly annotated and can serve as a guide to get you going!</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« BarBay</a><a class="docs-footer-nextpage" href="../examples/">examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Friday 10 November 2023 16:47">Friday 10 November 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
